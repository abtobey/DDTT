<!DOCTYPE html>

<html lang="en">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        
        <!-- documentation at http://getbootstrap.com/docs/4.1/, alternative themes at https://bootswatch.com/ -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
        <link href="./styles.css" rel="stylesheet">
        <title>
        Simulation
        </title>
        <script>
            var lineLength=64;
            var chuteNum=1;
        if(lineLength > 100){
            chuteNum=10;
        }
        </script>
    </head>
    <body>
        <div class="jumbotron jumbotron-fluid">
            <div class="container">
              <h1 class="display-4">Dual Density Tilt Tray Sorter Simulation</h1>
              <p class="lead">This is a simulation of a dual density tilt tray sorter performing under the chosen parameters.</p>
              <a href="./explanations.html" class="btn btn-info" role="button">Explanations of terminology</a>  
            </div>
          </div>
          <p id="test">Default values will be used if inputs left blank or non-integer entered.</p>
          <div class="form-row">
          <div class="col-md-3">
            <!-- Material input -->
            <div class="md-form form-group">
              <label for="sortSpan">Simulation Span (minutes)</label>
              <input type="number" class="form-control" id="sortSpan" min="1" placeholder="60">
              
            </div>
          </div>
        </div>
          <div class="form-row">
            <div class="col-md-3">
              <!-- Material input -->
              <div class="md-form form-group">
                <label for="sweepersPerLine">Sweepers per Line (Sweeper PPH = 50 sacks/hr)</label>
                <input type="number" class="form-control" id="sweepersPerLine" min="1" placeholder="2">
                
              </div>
            </div>
            <div class="col-md-3">
                <!-- Material input -->
                <div class="md-form form-group">
                  <label for="inductorsPerPlatform">Inductors per platform per side (Base PPH=1800)</label>
                  <input type="number" class="form-control" id="inductorsPerPlatform" min="1" placeholder="5">
                  
                </div>
              </div>
            </div>
            <div class="form-row">
              <div class="col-md-3">
                <!-- Material input -->
                <div class="md-form form-group">
                  <label for="nrPercent">No read percentage (do not enter % sign) </label>
                  <input type="number" class="form-control" id="nrPercent" min="1" placeholder="5.0">
                </div>
              </div>
              
                <div class="col-md-3">
                <label for="sorterType">Sorter Layout</label>
                <select class="form-control" id="sorterType">
                  <option>Two induct platforms</option>
                  <option>Four induct platforms with flow splitters</option>
                  <option>Four induct platforms with direct feeds</option>
                </select>
                </div>
                
              </div>
            </div>
    <div class="AB col-12">
        <figure class="Top platform1">Platform 1</figure>
        <figure class="Top platform2">Platform 2</figure>

        <table class="Top toptable col-11" id="toprows">
            <thead>
                <tr id="ALineNumbers">
                    <script>
                        aLine=document.getElementById("ALineNumbers");
                        for(i=0; i< lineLength; i++)
                        {
                            td = aLine.appendChild(document.createElement('td'));
                            td.innerHTML =(100 * chuteNum) + lineLength -i;
                        }                   
                    </script>
                </tr>
            </thead>
            <tr id="row1">
                <script>
                    //setting up display for rows
                    row1=document.getElementById("row1");
                    for(i=0; i< lineLength; i++)
                    {
                        td = row1.appendChild(document.createElement('td'));
                        td.innerHTML =0;
                    }
                </script>
            </tr>
            <tr id="row2">
                <script>
                    row2=document.getElementById("row2");
                    for(i=0; i< lineLength; i++)
                    {
                        td = row2.appendChild(document.createElement('td'));
                        td.innerHTML =0;
                    }
                </script>
            </tr>
            <tfoot>
                <tr id="BLineNumbers">
                    <script>
                        bLine=document.getElementById("BLineNumbers");
                        for(i=0; i< lineLength; i++)
                        {
                            td = bLine.appendChild(document.createElement('td'));
                            td.innerHTML =(200 * chuteNum) + lineLength -i;
                        }                   
                    </script>
                </tr>
            </tfoot>
        </table>
    </div>
    <br>
    <br>
        <div class="CD col-12">
            <table class="col-11" id ="bottomrows">
                <thead>
                    <tr id="CLineNumbers">
                        <script>
                            cLine=document.getElementById("CLineNumbers");
                            for(i=0; i< lineLength; i++)
                            {
                                td = cLine.appendChild(document.createElement('td'));
                                td.innerHTML =i + 1 + (300*chuteNum);
                            }                   
                        </script>
                    </tr>
                </thead>
            <tr id = "row3">
                <script>
                    row3=document.getElementById("row3");
                    for(i=0; i< lineLength; i++)
                    {
                        td = row3.appendChild(document.createElement('td'));
                        td.innerHTML =0;
                    }
                </script>
            </tr>
            <tr id = "row4">
                <script>
                    row4=document.getElementById("row4");
                    for(i=0; i< lineLength; i++)
                    {
                        td = row4.appendChild(document.createElement('td'));
                        td.innerHTML =0;
                    }
                </script>
            </tr>
            <tfoot>
                <tr id="DLineNumbers">
                    <script>
                        dLine=document.getElementById("DLineNumbers");
                        for(i=0; i< lineLength; i++)
                        {
                            td = dLine.appendChild(document.createElement('td'));
                            td.innerHTML =i + 1 +400 * chuteNum;
                        }                   
                    </script>
                </tr>
            </tfoot>
        </table>
        <br><br>
        <figure class="Bottom platform3">Platform 3</figure>
        <figure class="Bottom platform4">Platform 4</figure>
        </div>
        <br>
        <button class="btn btn-primary", onclick="moveTrays()">Start Simulation</button>
        
        <table id="stats" style="width:40%">
            <thead>
                <tr>
                    <th>Minute</th>
                    <th>Scans</th>
                    <th>Sorted</th>
                    <th>PPH</th>
                    <th>Derates</th>
                    <th>No Reads</th>
                    <th>Max Recirc</th>
                    <th>Bags Completed</th>
                </tr>
            </thead>
            <tfoot>
                <tr>
                    <th>Total</th>
                    <th>0</th>
                    <th>0</th>
                    <th>0</th>
                    <th>0</th>
                    <th>0</th>
                    <th>0</th>
                    <th>0</th>
                </tr>
            </tfoot>
        </table>
        <script type="text/javascript" src="script.js"></script>
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
    </body>
</html>